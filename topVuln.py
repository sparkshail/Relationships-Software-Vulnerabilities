#!/usr/bin/env python
# coding: utf-8

# In[1]:


top2021 = [3,6,47,54,85,95,100,102,117,138,141]
top2020 = [20, 27, 31, 42, 47, 52, 70, 81, 90, 93, 114]
top2019 = 16, 21, 40, 51, 54, 56, 92, 107, 115, 134


# In[2]:


low2021 = [38,42,61,80,106,143,147]
low2020 = [30,38,41,99,119]
low2019 = [6,46,84,91,101,133]


# # 2020

# In[23]:


top2020_docs = {
20 : [64, 89, 680, 689, 733, 750, 869, 884, 889, 903, 906, 913, 951, 954, 996,
      1175, 1232, 1417, 1620, 1658, 1824, 1835, 1914, 2077, 2158, 2308, 2414,
      2484, 2539, 2662, 2784, 2877, 3188, 3280, 3282, 3283, 3284, 3645, 3672,
      3694, 3815, 3942, 4049, 4112, 4202, 4226, 4437, 4438, 4464, 4466, 4807,
      4827, 4859, 4860, 4861, 4862, 4863, 4864, 4865, 4866, 4867, 4868, 4869,
      4870, 4874, 4875, 4879, 4880, 4883, 4897, 4901, 4902, 4905, 4911, 4912,
      4914, 4916, 4917, 4918, 4919, 4920, 4921, 4927, 4928, 4930, 4931, 4932,
      4933, 4934, 4935, 4940, 4941, 4943, 4944, 5428, 5447, 5762, 6147, 6356,
      6501, 6561, 6566, 6570, 6651, 6704, 6767, 6892, 7405, 7444, 7902, 7905,
      8245, 8246, 8247, 8602, 9159, 9258, 9296, 9320, 9777, 9884, 9937, 10084,
      10270, 10273, 10302, 10303, 10306, 10882, 11191, 11192, 11209, 11211,
      11212, 11213, 11214, 11215, 11216, 11217, 11219, 11220, 11221, 11222,
      11223, 11224, 11635, 11747, 11943, 11945, 12657, 12697, 13040, 13375,
      13643, 13644, 13645, 13821, 13901, 14155, 14218, 14224, 14225, 14227,
      14233, 14234, 14235, 14237, 14238, 14239, 14473, 14669, 15125],
27: [110, 231, 1168, 1169, 1335, 1349, 2573, 2735, 2812, 2926, 3197, 3302,
      3366, 3399, 3688, 3789, 3796, 3872, 4072, 4462, 4566, 4570, 4800, 5247,
      5362, 5379, 5692, 5910, 6399, 7116, 7445, 7495, 7741, 7801, 7901, 7958,
      8031, 8041, 8054, 8119, 8125, 8244, 8254, 8593, 8904, 8966, 8968, 9027,
      9112, 9229, 9317, 9331, 9374, 9435, 9452, 9468, 9478, 9492, 9493, 9514,
      9536, 9574, 9577, 9585, 9602, 9624, 9696, 9749, 9776, 9787, 9837, 9879,
      10025, 10154, 10226, 10240, 10248, 10346, 10434, 10496, 10506, 10545,
      10558, 10581, 10590, 10686, 10706, 10780, 10818, 10918, 10996, 11047,
      11109, 11168, 11290, 11293, 11333, 11338, 11342, 11351, 11369, 11432,
      11454, 11483, 11514, 11532, 11534, 11563, 11567, 11705, 11708, 11712,
      11833, 12002, 12011, 12100, 12171, 12199, 12301, 12334, 12346, 12357,
      12387, 12444, 12543, 12603, 12670, 12733, 12740, 12748, 12799, 12809,
      12903, 13059, 13119, 13192, 13262, 13325, 13335, 13397, 13398, 13408,
      13425, 13438, 13474, 13769, 13871, 13896, 13922, 14031, 14084, 14096,
      14147, 14174, 14311, 14313, 14533, 14552, 14598, 14601, 14632, 14735,
      14761, 14863, 14866, 14880, 14889, 14923, 14933, 14984, 15020, 15106,
      15120],
31: [195, 227, 262, 296, 378, 1053, 1055, 1056, 1059, 1061, 1084, 1154, 1191,
      1288, 1289, 1315, 1320, 1321, 1606, 1664, 1666, 1668, 1671, 1704, 1757,
      1856, 2034, 2086, 2202, 2228, 2301, 2380, 2401, 2408, 2421, 2426, 2610,
      2779, 2800, 2943, 3009, 3032, 3143, 3151, 3236, 3238, 3247, 3249, 3251,
      3940, 3941, 4110, 4146, 4203, 4212, 4260, 4584, 4887, 4892, 4894, 4895,
      4896, 4903, 4906, 4907, 4908, 4909, 4910, 5393, 5400, 5404, 5480, 5503,
      5504, 5508, 5510, 5514, 5521, 5536, 5755, 5789, 5818, 5831, 5832, 5924,
      6474, 6475, 6657, 6660, 6713, 6725, 6751, 6787, 6790, 6809, 6810, 6813,
      6814, 6815, 6816, 6817, 6819, 6820, 6824, 6825, 6827, 7044, 7069, 7229,
      7300, 7309, 7310, 7311, 7314, 7315, 7317, 7319, 7320, 7321, 7322, 7323,
      7325, 7326, 7327, 7328, 7329, 7330, 7331, 7332, 7333, 7334, 7336, 7337,
      7338, 7339, 7340, 7341, 7342, 7371, 7436, 7519, 7687, 7710, 7711, 7775,
      7868, 7893, 8490, 8611, 8815, 8865, 9117, 9150, 9277, 9295, 10492,
      10921, 11897, 13150, 13546, 14202, 14994],
        
42: [401, 461, 551, 1034, 1143, 1278, 1287, 1344, 2201, 2368, 2372, 2565,
      2725, 2903, 3430, 3435, 3831, 3877, 3981, 4000, 4074, 4707, 4979, 5049,
      5054, 5263, 5387, 5456, 5638, 6944, 6945, 7107, 7660, 7791, 7957, 7997,
      8009, 8037, 8121, 8130, 8185, 8274, 8297, 8526, 8880, 8896, 8911, 8980,
      9014, 9028, 9332, 9349, 9357, 9391, 9398, 9553, 9649, 9663, 9846, 9883,
      9906, 10038, 10104, 10109, 10188, 10318, 10338, 10406, 10435, 10446,
      10453, 10478, 10520, 10618, 10621, 10662, 10676, 10708, 10733, 10761,
      10834, 10906, 10911, 11001, 11052, 11054, 11059, 11326, 11348, 11364,
      11379, 11392, 11477, 11496, 11566, 11599, 11698, 11720, 11733, 11778,
      11787, 11910, 11930, 11938, 11981, 12071, 12088, 12114, 12130, 12322,
      12402, 12420, 12436, 12442, 12542, 12557, 12620, 12701, 12713, 12776,
      12791, 12866, 12870, 12921, 12957, 12959, 13001, 13062, 13069, 13073,
      13095, 13212, 13249, 13315, 13428, 13435, 13489, 13513, 13518, 13520,
      13636, 13669, 13680, 13771, 13860, 13923, 13925, 13934, 13969, 14094,
      14095, 14136, 14159, 14203, 14305, 14346, 14407, 14486, 14495, 14556,
      14730, 14752, 14762, 14773, 14778, 14844, 14849, 14929, 14951, 14977,
      15047, 15076, 15103, 15147],
        
47: [459, 608, 609, 611, 644, 645, 659, 688, 701, 756, 789, 793, 833, 836,
      837, 874, 901, 904, 907, 992, 1089, 1241, 1253, 1274, 1280, 1285, 1566,
      1604, 1630, 1651, 1719, 1739, 1740, 1780, 1865, 1898, 2064, 2132, 2168,
      2220, 2222, 2223, 2231, 2330, 2658, 2671, 2768, 2780, 2782, 2793, 2814,
      2825, 2871, 3001, 3049, 3050, 3051, 3052, 3069, 3074, 3138, 3166, 3243,
      3246, 3286, 3638, 3655, 3661, 3686, 3748, 3804, 3898, 3923, 3928, 3936,
      4090, 4244, 4257, 4485, 4486, 4541, 4552, 4700, 4728, 4744, 4767, 4771,
      4808, 4849, 5061, 5174, 5208, 5284, 5287, 5288, 5290, 5291, 5355, 5398,
      5409, 5411, 5436, 5437, 5466, 5467, 5468, 5523, 5533, 5568, 5614, 5718,
      5750, 5859, 5891, 5895, 5896, 5897, 5900, 5902, 5903, 6125, 6180, 6598,
      6838, 7123, 7129, 7132, 7389, 7437, 7498, 7542, 7549, 7753, 8501, 8542,
      8549, 8574, 8583, 8584, 8585, 8586, 8594, 8619, 8632, 8714, 8844, 9099,
      9100, 9871, 9980, 10156, 10159, 10309, 11202, 11446, 11508, 11651,
      12706, 12709, 13072, 14631],
 52: [508, 1177, 1331, 1352, 1577, 1716, 1960, 2407, 2566, 2694, 3307, 3326,
      3368, 3370, 3486, 3582, 3818, 3833, 3844, 3876, 3987, 4559, 4715, 4780,
      4974, 5071, 5458, 5500, 5649, 5681, 6199, 6405, 6417, 7100, 7113, 7128,
      7974, 8000, 8082, 8092, 8141, 8172, 8263, 8292, 8890, 8987, 9023, 9037,
      9056, 9070, 9305, 9351, 9364, 9376, 9413, 9505, 9517, 9581, 9648, 9724,
      9754, 9770, 9819, 9825, 9913, 9947, 10062, 10116, 10123, 10131, 10212,
      10218, 10224, 10285, 10307, 10340, 10350, 10352, 10430, 10480, 10521,
      10535, 10548, 10570, 10617, 10729, 10738, 10755, 10775, 10989, 11014,
      11038, 11167, 11205, 11387, 11495, 11498, 11535, 11544, 11546, 11597,
      11717, 11750, 11751, 11764, 11775, 11830, 11842, 11994, 12004, 12007,
      12014, 12039, 12089, 12138, 12145, 12302, 12342, 12482, 12577, 12631,
      12703, 12735, 12789, 12795, 12804, 12817, 12860, 12895, 12904, 13017,
      13035, 13130, 13210, 13228, 13251, 13269, 13283, 13303, 13372, 13389,
      13452, 13482, 13566, 13568, 13591, 13600, 13724, 13826, 13883, 14041,
      14077, 14092, 14170, 14206, 14212, 14301, 14355, 14409, 14520, 14534,
      14544, 14604, 14609, 14713, 14726, 14739, 14791, 14795, 14920, 14922,
      15018, 15066],
70: [654, 657, 705, 737, 779, 795, 819, 852, 856, 870, 919, 928, 930, 931,
      960, 963, 970, 973, 979, 1078, 1131, 1252, 1263, 1373, 1563, 1584, 1635,
      1670, 1725, 1807, 1818, 1829, 1871, 1923, 2005, 2006, 2008, 2024, 2049,
      2055, 2059, 2121, 2275, 2339, 2561, 2581, 2582, 2612, 2693, 2759, 2880,
      3144, 3168, 3199, 3233, 3265, 3309, 3332, 3386, 3656, 3664, 3685, 3727,
      3771, 3937, 3947, 3967, 4053, 4079, 4082, 4123, 4134, 4200, 4354, 4530,
      4608, 4614, 4724, 4838, 4885, 4888, 5025, 5047, 5300, 5327, 5343, 5366,
      5576, 5628, 5663, 5773, 5784, 5828, 5931, 5971, 5982, 6224, 6312, 6400,
      6554, 6592, 6631, 6674, 6706, 6804, 6886, 7064, 7065, 7066, 7067, 7082,
      7199, 7247, 7248, 7250, 7335, 7376, 7423, 7460, 7508, 7545, 7577, 8250,
      8575, 8577, 8606, 8613, 8616, 8630, 8646, 8647, 8652, 8952, 9155, 9156,
      9306, 9814, 10290, 10296, 10300, 10301, 10424, 10634, 11086, 11122,
      11124, 11328, 11515, 13046, 13499, 14000, 14240, 14241, 14242, 14244,
      14245, 14246, 14247, 14248, 14250, 14252, 14253, 14256, 14259, 14261,
      14500, 15063],
81: [1036, 1039, 1170, 1200, 1382, 1398, 1644, 2351, 2606, 2607, 2723, 2728,
      3308, 3409, 3578, 3836, 3850, 3878, 3930, 4158, 5682, 5710, 6491, 6572,
      6597, 6888, 6938, 7114, 7239, 7461, 7671, 7873, 7991, 8043, 8087, 8100,
      8115, 8120, 8208, 8211, 8220, 8568, 8929, 8936, 8945, 9002, 9039, 9052,
      9218, 9234, 9309, 9321, 9323, 9352, 9379, 9395, 9406, 9522, 9523, 9565,
      9587, 9633, 9657, 9661, 9710, 9715, 9804, 9830, 9859, 9894, 9957, 10068,
      10119, 10166, 10203, 10208, 10336, 10380, 10507, 10672, 10730, 10744,
      10750, 10763, 10813, 10840, 10856, 10924, 10956, 10964, 10979, 11067,
      11161, 11368, 11539, 11589, 11595, 11615, 11653, 11659, 11672, 11737,
      11777, 11799, 11902, 11923, 11948, 12040, 12079, 12189, 12223, 12280,
      12370, 12385, 12462, 12541, 12586, 12592, 12649, 12851, 12865, 12886,
      12891, 12917, 12975, 13007, 13061, 13122, 13219, 13276, 13288, 13402,
      13415, 13459, 13485, 13486, 13553, 13556, 13569, 13588, 13601, 13623,
      13624, 13632, 13633, 13690, 13750, 13862, 13863, 13868, 13918, 14033,
      14054, 14064, 14097, 14102, 14258, 14269, 14315, 14333, 14348, 14403,
      14434, 14488, 14649, 14680, 14682, 14692, 14696, 14725, 14874, 14919,
      14978, 14988, 15010, 15043, 15085, 15105],
        
90: [1103, 1135, 1148, 2145, 2167, 2823, 2828, 2829, 2830, 2831, 2884, 3137,
      3214, 3289, 3354, 3477, 4697, 4820, 5217, 5316, 5644, 5747, 6421, 6438,
      6439, 6645, 6669, 6670, 6887, 6925, 7256, 8260, 8726, 11438, 11746,
      12303, 12989, 13000, 13011, 13022, 13033, 13044, 13055, 13066, 13077,
      13088, 13099, 13110, 13121, 13132, 13143, 13154, 13165, 13176, 13187,
      13198, 13209, 13253, 13264, 13275, 13286, 13297, 13308, 13319, 13330,
      13352, 13363, 13374, 13385, 13396, 13407, 13418, 13429, 13440, 13451,
      13462, 13473, 13484, 13517, 13528, 13550, 13561, 13572, 13583, 13594,
      13605, 13616, 13627, 13638, 13649, 13660, 13682, 13693, 13704, 13715,
      13726, 13737, 13748, 13770, 13803, 13814, 13825, 13836, 13847, 13858,
      13880, 13891, 13946, 13957, 13968, 13979, 13990, 14001, 14012, 14023,
      14034, 14045, 14056, 14067, 14078, 14111, 14166, 14177, 14199, 14221,
      14232, 14243, 14287, 14298, 14309, 14320, 14342, 14353, 14364, 14375,
      14397, 14507, 14562, 14573, 14584, 14606, 14628, 14639, 14650, 14661,
      14683, 14694, 14716, 14738, 14749, 14760, 14771, 14782, 14793, 14804,
      14837, 14859, 14870, 14991, 15002, 15013, 15024, 15035, 15046, 15068,
      15079, 15090, 15101, 15123, 15134, 15145, 15167],
        
93: [1115, 1234, 1236, 1237, 1254, 1295, 1297, 1698, 1837, 1905, 1906, 1907,
      1908, 1909, 1910, 2068, 2213, 2608, 2712, 2878, 2944, 2945, 2947, 2948,
      2949, 2950, 2951, 2952, 2953, 2954, 2955, 2956, 2958, 2959, 2960, 2961,
      2962, 2963, 2964, 2965, 2966, 2967, 2980, 3106, 3156, 3165, 3227, 3264,
      3319, 3321, 3322, 3626, 3627, 3634, 3635, 3636, 3644, 3647, 3649, 3651,
      3652, 3668, 3778, 3887, 3992, 4143, 4144, 4192, 4569, 4690, 4691, 4727,
      4729, 4730, 4731, 4732, 4733, 4745, 4953, 5031, 5132, 5198, 5204, 5242,
      5274, 5285, 5304, 5305, 5307, 5308, 5309, 5310, 5324, 5349, 5448, 5618,
      5763, 5801, 5868, 5869, 5870, 5871, 5873, 5874, 5875, 5876, 5877, 5878,
      5879, 5880, 5881, 5882, 5884, 5885, 5886, 6427, 6428, 6429, 6462, 6464,
      6761, 7048, 7053, 7210, 7212, 7216, 7219, 7220, 7224, 7235, 7237, 7240,
      7241, 7251, 7252, 7275, 7305, 7482, 7735, 7973, 8522, 8699, 8722, 8801,
      8806, 8824, 9187, 9201, 9211, 9953, 9975, 10096, 10184, 10195, 10415,
      10437, 10537, 10844, 11174, 11643, 15061],
114: [1225, 1341, 1380, 1575, 2569, 2576, 2982, 3006, 3261, 3384, 3402, 3442,
      3670, 3677, 3695, 3834, 3931, 4488, 4555, 4750, 4779, 5545, 5639, 5847,
      5911, 6497, 7396, 7431, 7684, 7807, 7911, 7950, 8010, 8106, 8123, 8154,
      8190, 8557, 8779, 8827, 8877, 8907, 8992, 9059, 9094, 9383, 9401, 9411,
      9518, 9547, 9556, 9589, 9597, 9632, 9640, 9750, 9763, 9841, 9867, 9900,
      10018, 10063, 10072, 10165, 10172, 10200, 10241, 10332, 10354, 10376,
      10381, 10409, 10447, 10474, 10502, 10614, 10636, 10665, 10675, 10716,
      10721, 10727, 10768, 10782, 10784, 10821, 10881, 10986, 11033, 11048,
      11099, 11225, 11236, 11239, 11320, 11424, 11445, 11459, 11596, 11598,
      11640, 11660, 11715, 11730, 11753, 11774, 11863, 11912, 12006, 12068,
      12084, 12113, 12122, 12139, 12158, 12204, 12287, 12299, 12332, 12335,
      12408, 12447, 12554, 12662, 12751, 12758, 12773, 12779, 12855, 13032,
      13050, 13139, 13173, 13280, 13299, 13313, 13331, 13379, 13423, 13441,
      13718, 13735, 13741, 13801, 13808, 13822, 13827, 13854, 13855, 14068,
      14098, 14108, 14165, 14168, 14266, 14581, 14611, 14657, 14687, 14693,
      14809, 14812, 14877, 14982, 14986, 15053, 15064, 15072, 15084]}


# # 2019

# In[24]:


top2019_docs = {
16: [31, 36, 65, 68, 72, 93, 94, 95, 96, 97, 104, 105, 109, 111, 112, 116,
      117, 118, 119, 120, 123, 131, 143, 144, 150, 280, 291, 771, 1204, 1205,
      1285, 1310, 1319, 1321, 1472, 1602, 1614, 1629, 1667, 1689, 1729, 2122,
      2181, 2182, 2184, 2203, 2207, 2208, 2210, 2211, 2213, 2218, 2220, 2221,
      2224, 2225, 2229, 2234, 2235, 2239, 2240, 2242, 2247, 2250, 2258, 2286,
      2352, 2363, 2546, 2566, 2797, 2835, 2853, 3017, 3460, 3576, 3642, 3998,
      4046, 4067, 4275, 4394, 4791, 4801, 4809, 5259, 5266, 5267, 5269, 5279,
      5284, 5285, 5286, 5288, 5293, 5296, 5299, 5300, 5302, 5344, 5544, 5553,
      5719, 5720, 5857, 5865, 5905, 6331, 6399, 7488, 7659, 7706, 7783, 8104,
      8106, 8109, 8231, 8738, 8857, 9140, 9587, 9661, 9942, 10756, 11599,
      11660, 11676, 11678, 11679, 11791, 11811, 11851, 11856, 11865, 11923,
      11956, 11977, 12138, 12169, 12229, 12264, 13089, 13116, 13252, 13266,
      13395, 13396, 13397, 13400, 13401, 13403, 13624, 13831, 13838, 14022,
      14045, 14167, 14440, 14443, 14444, 14445, 14446, 14454, 14515, 14551,
      15296, 15403, 15419, 15422, 15808, 15956, 16085, 16108, 16169, 16199,
      16291, 16302],
    
21: [37, 40, 43, 1306, 1939, 1970, 2137, 2138, 2359, 2402, 2484, 3115, 3363,
      3390, 3535, 3551, 3556, 3562, 3563, 3566, 3588, 3599, 3600, 3604, 3606,
      3607, 3608, 3609, 3610, 3611, 3612, 3621, 3625, 3629, 3630, 3632, 3634,
      3639, 3640, 3641, 3643, 3644, 3646, 4048, 5631, 5632, 5705, 5767, 5841,
      5842, 5843, 5844, 5845, 5846, 5847, 5848, 5849, 5850, 5852, 5853, 5854,
      5855, 5863, 5868, 5869, 5871, 5873, 5881, 5882, 5890, 6163, 6164, 6548,
      6559, 6573, 6576, 6577, 6578, 6581, 6588, 6598, 6603, 6617, 6620, 6623,
      6625, 6626, 6628, 6629, 6630, 6631, 6632, 6709, 6905, 6955, 6956, 7030,
      7063, 7073, 7103, 7133, 7174, 7213, 7218, 7318, 7359, 7370, 7422, 7446,
      7502, 7522, 7664, 7707, 7713, 7715, 7718, 7808, 7894, 7983, 7998, 8006,
      8219, 8224, 8287, 8346, 8502, 8513, 8568, 8646, 8647, 8729, 8827, 8890,
      8899, 8925, 8956, 8974, 9005, 9072, 9079, 9165, 9210, 9276, 9340, 9410,
      9429, 9678, 9686, 9998, 10088, 10090, 10091, 10136, 10525, 11627, 11725,
      11726, 11828, 11947, 13091, 13432, 14002, 14181, 14441, 14442, 14546,
      14675, 15276, 15277, 15279, 15280, 15282, 15791, 16301, 16304, 16427],
        
40: [167, 866, 867, 868, 870, 872, 873, 875, 877, 878, 880, 882, 883, 884,
      885, 895, 896, 897, 898, 899, 900, 901, 903, 904, 906, 1404, 1405, 1415,
      1416, 1417, 1422, 1426, 1427, 1428, 1429, 1432, 1434, 1437, 1438, 1439,
      1440, 1441, 1442, 1443, 1445, 1446, 1448, 1449, 1450, 1451, 1453, 1457,
      1462, 1463, 1464, 1465, 1467, 1468, 1470, 1473, 1477, 1478, 1479, 1481,
      1483, 1488, 1493, 1494, 1498, 1499, 1500, 1501, 1505, 1506, 1507, 1512,
      1514, 1519, 1521, 1522, 1523, 1527, 1543, 1544, 1548, 1554, 1555, 1556,
      1559, 1560, 1562, 1564, 1582, 1836, 1837, 2168, 2836, 2839, 2842, 5109,
      5454, 5662, 5670, 5672, 6220, 6221, 6273, 6284, 6346, 6367, 6401, 6410,
      6430, 6895, 6932, 7017, 7018, 7028, 7031, 7032, 7033, 7034, 7035, 7039,
      7043, 7047, 7048, 7049, 7051, 7053, 7054, 7056, 7057, 7058, 7059, 8065,
      8093, 8203, 8490, 9705, 11546, 11669, 11946, 12225, 12897, 12903, 12948,
      12971, 12972, 13390, 13534, 13535, 13536, 13543, 13547, 13575, 13576,
      13577, 13580, 13581, 13582, 13585, 13586, 13588, 13590, 13596, 13600,
      13601, 13609, 13621, 13625, 13636, 13641, 13643, 13645, 13650, 13844,
      14079, 14186, 14419, 14439, 14652, 14738, 15175, 15326, 16362, 16518,
      16647, 16672],

51: [196, 987, 988, 1189, 1193, 1233, 1332, 1808, 1815, 1933, 1972, 1997,
      2040, 2152, 2435, 2531, 2533, 2849, 2850, 2882, 2883, 2890, 3023, 3024,
      3080, 3113, 3131, 3257, 3288, 3289, 3328, 3380, 3389, 3391, 3474, 3713,
      3739, 3750, 3760, 3912, 4014, 4259, 4945, 4963, 4981, 4985, 5056, 5057,
      5156, 5162, 5208, 5210, 5211, 5212, 5213, 5214, 5215, 5216, 5217, 5218,
      5529, 5562, 5563, 5604, 5613, 5614, 5723, 5736, 6203, 6286, 6358, 6651,
      6713, 6894, 6926, 6927, 6928, 7348, 7429, 7478, 7514, 7676, 7681, 7944,
      8047, 8198, 8267, 8462, 8604, 8700, 8838, 9041, 9133, 9182, 9435, 9436,
      9437, 9438, 9513, 9644, 9660, 9664, 9665, 9667, 9671, 9674, 9699, 9700,
      9701, 9986, 10095, 10477, 10493, 10499, 10504, 10510, 10530, 10531,
      10532, 10533, 10535, 10539, 11792, 11796, 11845, 11871, 12984, 12985,
      12986, 13061, 13062, 13063, 13064, 13065, 13066, 13068, 13069, 13070,
      13071, 13072, 13073, 13127, 13129, 13130, 13132, 13133, 13134, 13136,
      13137, 13139, 13179, 13526, 13898, 14070, 14144, 14744, 14757, 14759,
      14796, 14800, 15329, 15782, 15783, 15784, 15785, 15837, 15843, 15889,
      15906, 15948, 16326, 16377, 16490, 16491, 16501, 16626],
    
54: [199, 258, 834, 848, 1058, 1096, 1114, 1131, 1144, 1265, 1607, 1826,
      2313, 2316, 2826, 2827, 3441, 3547, 3555, 3571, 3581, 3598, 3619, 3723,
      3952, 3989, 3990, 4043, 4173, 4208, 4209, 4210, 4214, 4216, 4217, 4219,
      4220, 4264, 4727, 4731, 4783, 4822, 5119, 5520, 5606, 5789, 6232, 6411,
      6462, 6469, 6501, 6527, 6682, 6721, 6770, 6781, 6860, 6920, 6974, 7065,
      7092, 7215, 7299, 7486, 7487, 7489, 7490, 7496, 7497, 7498, 7499, 7579,
      7945, 8007, 8009, 8012, 8013, 8014, 8015, 8016, 8017, 8026, 8027, 8100,
      8113, 8118, 8264, 8419, 8590, 8740, 8788, 8790, 8791, 9091, 9111, 9225,
      9320, 9688, 10692, 10730, 10946, 10970, 10999, 11522, 11523, 11529,
      11531, 11690, 11753, 11754, 11755, 11833, 11850, 12067, 12398, 12430,
      13151, 13297, 13905, 13969, 14055, 14094, 14095, 14096, 14097, 14098,
      14099, 14100, 14101, 14102, 14104, 14107, 14110, 14113, 14114, 14115,
      14116, 14117, 14118, 14119, 14120, 14122, 14123, 14125, 14126, 14127,
      14128, 14129, 14130, 14131, 14132, 14133, 14134, 14135, 14136, 14137,
      14138, 14139, 14140, 14227, 14585, 14700, 15315, 15991, 16398, 16411,
      16458, 16477, 16478],
    
56: [203, 215, 256, 259, 263, 290, 795, 996, 1190, 1376, 1818, 1819, 1973,
      2060, 2061, 2063, 2106, 2428, 2448, 2503, 2551, 2600, 2647, 2687, 2689,
      2878, 2907, 3081, 3306, 3307, 3308, 3309, 3310, 3312, 3499, 3521, 3534,
      3552, 3676, 3677, 3683, 3685, 3690, 3700, 4007, 4207, 4369, 4408, 4461,
      4486, 4854, 4939, 4942, 4946, 5047, 5152, 5394, 5402, 5403, 5404, 5405,
      5407, 5408, 5426, 5451, 5653, 5730, 6133, 6211, 6488, 6503, 6540, 6608,
      6610, 6611, 6655, 6657, 6688, 6714, 6729, 6747, 6817, 6912, 6989, 7077,
      7188, 7247, 7418, 7692, 7732, 7733, 7734, 7735, 7736, 7886, 8060, 8081,
      8216, 8221, 8379, 8402, 8454, 8610, 8794, 8796, 8801, 8904, 9010, 9083,
      9126, 9155, 9194, 9195, 9267, 9376, 9596, 9766, 10031, 10125, 10191,
      10217, 10399, 10479, 10498, 10559, 10675, 10690, 10757, 10957, 10967,
      11698, 11703, 11776, 11862, 11928, 11938, 12010, 12058, 12114, 12155,
      12167, 12209, 12210, 12917, 12992, 13187, 13552, 13555, 13556, 13561,
      13562, 13563, 13564, 13565, 13566, 13567, 13570, 13594, 13639, 13824,
      13828, 13913, 14747, 14751, 15953, 16303, 16331, 16440, 16534, 16564,
      16620, 16656, 16657],
    
92: [390, 391, 392, 404, 410, 417, 420, 438, 439, 443, 447, 451, 454, 459,
      460, 461, 464, 465, 479, 501, 502, 503, 533, 538, 551, 554, 567, 571,
      572, 574, 581, 587, 601, 605, 609, 611, 613, 620, 635, 638, 639, 640,
      643, 647, 659, 660, 713, 714, 715, 721, 722, 723, 724, 726, 732, 774,
      776, 788, 790, 791, 844, 856, 959, 1185, 1207, 1240, 1342, 1524, 1579,
      1601, 1634, 1643, 1749, 1780, 1831, 1846, 2016, 2058, 2069, 2079, 2121,
      2147, 2157, 2245, 2255, 2263, 2270, 2300, 2306, 2308, 2339, 2350, 2383,
      2447, 2464, 2475, 2491, 2492, 2499, 2539, 2549, 2559, 2570, 2631, 2684,
      2779, 2788, 2799, 2821, 2832, 2840, 2841, 2897, 2966, 2977, 3078, 3140,
      3159, 3237, 3247, 3301, 3311, 3321, 3332, 3397, 3439, 3452, 3705, 3779,
      3810, 3886, 3907, 3963, 4083, 4098, 4226, 4236, 4305, 4317, 4488, 4507,
      4834, 4919, 4990, 5017, 5048, 5066, 5085, 5123, 5261, 5306, 5323, 5370,
      5387, 5406, 7696, 10465, 11582, 16493],
        
107: [837, 842, 843, 845, 846, 850, 851, 852, 853, 971, 1141, 1312, 1331,
      1357, 1666, 1879, 1881, 1903, 1912, 1920, 1921, 1950, 2096, 2119, 2126,
      2127, 2128, 2133, 2134, 2135, 2140, 2144, 2155, 2393, 2397, 2445, 2498,
      2524, 2560, 2649, 2650, 2651, 2652, 2654, 2655, 2656, 2660, 2661, 2662,
      2669, 2681, 2682, 3155, 3392, 3421, 3425, 3488, 3490, 3491, 3492, 3726,
      3880, 3881, 3883, 3884, 3885, 3975, 3992, 4020, 4021, 4022, 4024, 4091,
      4105, 4669, 4706, 4825, 4829, 4977, 5161, 5172, 5241, 5301, 5422, 5706,
      5734, 6229, 6281, 6341, 6368, 6575, 6736, 6836, 6913, 6934, 6935, 7068,
      7285, 7401, 7410, 7538, 7709, 7764, 7823, 8028, 8403, 8407, 8418, 8469,
      8489, 9037, 9038, 9344, 9397, 9401, 9456, 9457, 9458, 9557, 9658, 9698,
      9734, 9791, 9808, 10022, 10023, 10240, 10281, 10418, 10422, 10455,
      10948, 11610, 11612, 11614, 11618, 11630, 11654, 11655, 11668, 11720,
      11733, 11734, 11735, 11952, 12065, 12106, 12352, 12395, 12410, 12726,
      12906, 12928, 12936, 12937, 12940, 12954, 13085, 13086, 13105, 13106,
      13344, 13659, 13665, 13887, 14654, 14668, 14669, 14696, 14697, 15272,
      15328, 15792, 15814, 15994, 16010, 16014, 16345, 16673],
    
115: [1016, 1076, 1184, 1600, 1660, 1662, 1741, 1743, 1772, 2068, 2148, 2190,
      2246, 2248, 2251, 2252, 2254, 2256, 2257, 2741, 2804, 2909, 3092, 3093,
      3250, 3522, 3701, 3702, 4015, 4034, 4035, 4037, 4038, 4039, 4040, 4041,
      4042, 4158, 4160, 4161, 4163, 4247, 4250, 4290, 4291, 4292, 4340, 4345,
      4346, 4411, 4416, 4806, 5257, 5290, 5291, 5295, 5348, 5354, 5355, 5356,
      5358, 5359, 5569, 5702, 5710, 5908, 6105, 6141, 6142, 6143, 6144, 6146,
      6412, 6413, 6414, 6486, 6568, 6987, 7139, 7153, 7155, 7156, 7158, 7159,
      7160, 7168, 7258, 7701, 8083, 8087, 8241, 8614, 8658, 10772, 10791,
      11894, 11905, 11906, 11907, 11908, 11909, 11910, 11911, 11913, 11914,
      11915, 11916, 11917, 11918, 11919, 11930, 11962, 11963, 11964, 11965,
      11966, 11967, 11968, 11975, 11976, 12828, 12839, 12849, 12850, 13166,
      13602, 13603, 13611, 13612, 13615, 13616, 13617, 13618, 13629, 13630,
      13690, 13849, 13876, 13958, 13962, 14185, 14529, 14530, 14594, 14595,
      14729, 15307, 15308, 15309, 15310, 15311, 15312, 15313, 15314, 15639,
      15818, 15928, 15929, 15930, 15931, 15932, 15939, 16306, 16666, 16667,
      16689],
        
134: [3823, 4390, 5560, 7608, 7609, 7610, 7612, 7614, 7615, 7616, 7618, 7619,
      7620, 7621, 7623, 7624, 8238, 8290, 8291, 8292, 8293, 8294, 8295, 8296,
      8297, 8298, 8299, 8301, 8303, 8304, 8305, 8306, 8307, 8309, 8310, 8312,
      8314, 8315, 8317, 8318, 8319, 8320, 8321, 8323, 8325, 8326, 8327, 8328,
      8329, 8330, 8332, 8333, 8334, 8336, 8339, 8340, 8341, 8342, 8345, 8347,
      8348, 8349, 8350, 8351, 8353, 8354, 8355, 8356, 8358, 8359, 8360, 8361,
      8362, 8364, 8365, 8366, 8369, 8370, 8371, 8372, 8373, 8374, 8375, 8376,
      8377, 8378, 8380, 8381, 8382, 8383, 8384, 8387, 8388, 8389, 8391, 8392,
      8393, 8394, 8396, 8498, 8499, 8500, 8503, 8504, 8505, 8506, 8507, 8508,
      8510, 8511, 8514, 8515, 8517, 8520, 8521, 8522, 8523, 8525, 8526, 8527,
      8528, 8529, 8530, 8531, 8532, 8533, 8534, 8536, 8537, 8539, 8540, 8541,
      8542, 8543, 8544, 8545, 8547, 8548, 8550, 8551, 8552, 8553, 8554, 8555,
      8556, 8559, 8560, 8562, 8563, 8564, 8565, 8566, 8567, 8569, 8570, 8571,
      8572, 8573, 8575, 8576, 8577, 8580, 8581, 8583, 8584, 8585, 8587, 8588,
      8589, 8591, 8592, 8593, 8595, 9116, 13165, 14265, 15349, 15350, 15375,
      16167]}


# # 2021

# In[25]:


top2021_docs = {

3: [4, 5, 6, 7, 8, 65, 146, 160, 163, 164, 197, 593, 1358, 1537, 1702, 2036,
      2090, 2091, 2092, 2093, 2094, 2095, 2096, 2186, 2360, 2463, 2681, 2682,
      2683, 2747, 2763, 2777, 2778, 2780, 2781, 2782, 2789, 2802, 2939, 2940,
      2941, 2942, 2945, 3561, 3591, 3660, 4389, 4390, 4413, 4426, 4433, 4443,
      4457, 4505, 4909, 5046, 5147, 5244, 5452, 6399, 6471, 6475, 6490, 7588,
      7589, 7590, 7591, 7592, 7593, 7594, 7595, 7596, 7597, 7598, 7599, 7600,
      7601, 7602, 7603, 7760, 8202, 8388, 8493, 8502, 8730, 8731, 8779, 8846,
      8854, 8872, 8903, 9258, 9664, 9671, 9865, 9885, 9891, 9917, 9980, 10168,
      10169, 10170, 10204, 10280, 10363, 10365, 10588, 10624, 10625, 10673,
      10825, 11132, 11252, 11253, 11254, 11255, 11257, 11295, 11416, 11430,
      11724, 12105, 12121, 12528, 12599, 12608, 12643, 12785, 12823, 12824,
      12828, 12842, 12843, 12855, 12987, 13015, 13016, 13162, 13167, 13175,
      13936, 14011, 14018, 14162, 14164, 14166, 14168, 14169, 14170, 14171,
      14172, 14331, 14422, 14483, 14510, 14912, 14917, 15191, 15277, 15744,
      15788, 15789, 15875, 16203, 16335, 16543, 16762, 17157, 17310, 17414,
      17472, 17734, 17743, 17754, 17989, 17990, 17997, 17998, 18037, 18073,
      18083, 18288, 18444, 19003, 19035, 19148, 19150, 19151, 19152, 19153,
      19154, 19156, 19157, 19197, 19199, 19200, 19241, 19250, 19414, 19443,
      19468, 19745, 19842, 20133, 20134, 20138, 20224, 20336],

6: [11, 269, 302, 309, 334, 341, 348, 364, 398, 428, 441, 474, 481, 495,
      496, 507, 508, 513, 515, 519, 521, 524, 530, 534, 564, 586, 605, 610,
      611, 628, 655, 663, 666, 668, 669, 683, 694, 702, 706, 892, 897, 898,
      919, 934, 935, 940, 1027, 1028, 1041, 1113, 1763, 1787, 1863, 1875,
      1899, 1904, 1926, 1939, 1957, 1975, 2223, 2253, 2254, 3215, 3216, 3217,
      3218, 3220, 3222, 3224, 3225, 3229, 3231, 3232, 3233, 3235, 3250, 3255,
      3258, 3259, 3264, 3265, 3271, 3277, 3282, 3295, 3297, 3305, 3309, 3311,
      3312, 3313, 3317, 3320, 3321, 3322, 3323, 3325, 3326, 3333, 3334, 3347,
      3354, 3557, 6410, 7908, 9810, 10112, 12753, 12807, 12809, 13024, 13026,
      13028, 13029, 13033, 13035, 13037, 13038, 13039, 13040, 13042, 13043,
      13044, 13051, 13058, 13059, 13060, 13061, 13062, 13063, 13065, 13066,
      13068, 13070, 13072, 13073, 13074, 13075, 13079, 13081, 13086, 13088,
      13092, 13093, 13094, 13096, 13099, 13102, 13106, 13107, 13113, 13116,
      13119, 13123, 13124, 13125, 13127, 13129, 13130, 13131, 13132, 13134,
      13135, 13136, 13137, 13140, 13147, 13148, 13149, 13150, 13154, 13159,
      13190, 13278, 13301, 13337, 13345, 13352, 13406, 13437, 13455, 13482,
      13492, 13509, 13541, 16469, 16470, 16936, 17062, 18044, 18092, 18103,
      18106, 20292],
    
47: [190, 715, 729, 773, 774, 778, 779, 788, 791, 828, 846, 915, 1849, 2420,
      3571, 3647, 3813, 4731, 4771, 4794, 4852, 5427, 5555, 5801, 5802, 5808,
      6004, 6019, 6076, 6084, 6106, 6112, 6124, 6174, 6176, 6272, 6284, 6369,
      6855, 7509, 7765, 7998, 8020, 8076, 8181, 8259, 8261, 8279, 8317, 8465,
      8607, 8612, 8617, 8628, 8652, 8690, 8792, 8809, 8824, 8861, 8902, 8997,
      9111, 9124, 9133, 9193, 9194, 9221, 9437, 9534, 9590, 9750, 9776, 10001,
      10294, 10307, 10400, 10418, 10684, 10691, 10714, 10766, 10831, 10869,
      11216, 11217, 11226, 11389, 11392, 11393, 11449, 11458, 11635, 11650,
      11658, 11659, 11661, 11762, 11808, 11838, 11844, 11865, 11876, 12470,
      12494, 12514, 12578, 12579, 12686, 12701, 12706, 13397, 13606, 13853,
      13890, 13920, 14213, 14275, 14378, 14409, 14640, 14731, 14736, 14785,
      14813, 14821, 14859, 14899, 14910, 14922, 14937, 14945, 15024, 15152,
      15302, 15407, 15492, 15666, 15807, 16004, 16028, 16163, 16172, 16214,
      16353, 16371, 16408, 16461, 16724, 16740, 16811, 16814, 16834, 16848,
      16988, 17177, 17379, 17624, 17901, 17909, 18137, 18241, 18260, 18389,
      18464, 18494, 18689, 18695, 18761, 18937, 19174, 19177, 19302, 19343,
      19457, 19538, 19619, 19673, 19681, 19710, 19720, 19722, 19753, 19863,
      19887, 20004, 20490, 20530, 20596, 20608, 20628],
    
54: [231, 685, 890, 1132, 1134, 1135, 1136, 1137, 1138, 1139, 1140, 1141,
      1243, 1244, 1245, 1246, 1247, 1248, 1249, 1250, 1252, 1254, 1268, 1269,
      1274, 1275, 1276, 1281, 1285, 1287, 1301, 1303, 1304, 1307, 1308, 1312,
      1354, 1356, 1363, 1374, 1375, 1392, 1395, 1399, 1400, 1410, 1411, 1415,
      1416, 1417, 1425, 1426, 1427, 1428, 1429, 1444, 1467, 1468, 1470, 1471,
      1472, 1473, 1474, 1478, 1479, 1495, 1496, 1497, 1503, 1504, 1505, 1507,
      1508, 1509, 1510, 1534, 1538, 1539, 1568, 1569, 1579, 1580, 1616, 1617,
      1673, 1961, 2116, 2554, 2651, 2653, 2720, 2727, 2736, 3445, 3525, 3537,
      3638, 3913, 4188, 4224, 4229, 4590, 4775, 4777, 4778, 4779, 4787, 4938,
      4974, 5532, 6507, 6508, 6510, 7700, 7708, 7815, 7822, 7823, 7824, 7829,
      7867, 7869, 7871, 7918, 7926, 7934, 7937, 7947, 7951, 7969, 7984, 7988,
      7989, 8236, 8759, 9052, 9089, 10062, 10076, 10079, 10100, 10119, 10487,
      10586, 11928, 11929, 13935, 13938, 14016, 14167, 14237, 14284, 14395,
      14662, 15300, 15320, 15699, 15712, 15778, 16326, 16347, 16488, 16513,
      16730, 16757, 16991, 17083, 17541, 17561, 17638, 17639, 17641, 17650,
      17653, 17654, 17660, 17668, 17678, 17690, 17691, 17692, 17699, 17700,
      17729, 17730, 17733, 18013, 18495, 19366, 19368, 19938, 20439, 20579],
        
85: [644, 1619, 1660, 1676, 1701, 1726, 2022, 2182, 3184, 3403, 3456, 3534,
      3542, 3641, 3651, 4382, 4383, 4392, 4397, 4404, 4406, 4419, 4420, 4422,
      4430, 4431, 4435, 4438, 4449, 4450, 4455, 4456, 4466, 4477, 4488, 4489,
      4744, 5154, 5343, 5502, 5558, 6491, 7612, 7616, 7617, 7618, 7619, 7628,
      7629, 7630, 7631, 7632, 7885, 7886, 7887, 7888, 8302, 8490, 8491, 8492,
      8497, 9042, 9141, 9143, 9144, 9145, 9147, 9148, 9149, 9150, 9273, 9309,
      9326, 9423, 9424, 9425, 9426, 9432, 9433, 9434, 9815, 10047, 10048,
      10049, 10050, 10051, 10052, 10053, 10054, 10274, 10314, 10596, 10619,
      10630, 10783, 10951, 10959, 11377, 11522, 11523, 11524, 11600, 11601,
      11602, 11603, 11604, 11605, 11606, 11607, 11608, 11609, 11610, 11611,
      11612, 11613, 11614, 11615, 11663, 11678, 11679, 11680, 11918, 11934,
      12523, 12525, 12853, 13743, 13836, 14202, 14430, 14462, 14661, 14686,
      14732, 15206, 15454, 15465, 15528, 15574, 15593, 15608, 15880, 15903,
      15971, 16254, 16255, 16256, 16257, 16258, 16267, 16268, 16314, 16393,
      16499, 16508, 16509, 16517, 16685, 16840, 17309, 17324, 17393, 17420,
      17422, 17529, 17531, 17532, 17533, 17534, 17535, 17536, 17537, 17563,
      17741, 18011, 18012, 18047, 18193, 18509, 18630, 18883, 19422, 19734,
      19735, 19944, 20105, 20326, 20390, 20401],
    
    
95: [1044, 3145, 3372, 3375, 3544, 3876, 4804, 5733, 5837, 6660, 6661, 6662,
      6663, 6664, 6666, 6667, 6668, 6669, 6670, 6671, 6672, 6673, 6674, 6675,
      6677, 6678, 6680, 7474, 8450, 8755, 9271, 9351, 9394, 9396, 9398, 9955,
      9978, 9979, 10021, 10453, 10501, 11050, 11946, 11971, 11973, 11975,
      11976, 11977, 11978, 11979, 11980, 11982, 11983, 11984, 11985, 11986,
      11987, 11988, 11989, 11990, 11991, 11993, 11994, 11995, 11996, 11997,
      11998, 11999, 12000, 12002, 12003, 12004, 12006, 12007, 12009, 12010,
      12011, 12012, 12013, 12014, 12015, 12016, 12018, 12019, 12020, 12021,
      12022, 12023, 12024, 12025, 12026, 12027, 12028, 12029, 12030, 12031,
      12032, 12033, 12034, 12035, 12036, 12037, 12038, 12039, 12040, 12041,
      12042, 12043, 12045, 12046, 12047, 12048, 12049, 12050, 12051, 12052,
      12053, 12054, 12055, 12056, 12057, 12058, 12059, 12060, 12061, 12062,
      12063, 12064, 12065, 12067, 12068, 12070, 12071, 12072, 12073, 12074,
      12075, 12076, 12077, 12078, 12079, 12080, 12081, 12082, 12594, 12635,
      13971, 14435, 14582, 15260, 15456, 15968, 15979, 15990, 16001, 16012,
      16521, 17189, 17200, 17211, 17222, 17233, 17244, 17405, 17453, 17464,
      18069, 18850, 18927, 19071, 19109, 19118, 19138, 19141, 19744, 20117],
    
100: [1067, 1114, 1120, 1418, 1625, 1626, 1627, 1629, 2084, 2289, 2861, 2875,
      2880, 2881, 3916, 3919, 3920, 4366, 4367, 4368, 4369, 4523, 4524, 4548,
      4552, 4557, 4612, 4622, 4623, 4656, 4657, 4658, 4659, 4661, 4662, 4663,
      4664, 4665, 4666, 4694, 4695, 4696, 4697, 4698, 4699, 4700, 4701, 4702,
      4703, 4705, 4706, 4707, 4708, 4709, 4710, 4711, 4712, 4713, 4714, 4716,
      4717, 4769, 5578, 5579, 5580, 5581, 5582, 6239, 7660, 7689, 7690, 7691,
      7875, 7883, 7891, 7910, 7929, 8163, 8164, 8266, 8267, 8268, 8488, 8489,
      9380, 9553, 9851, 9969, 10007, 10008, 10135, 10136, 10505, 10705, 11021,
      11027, 11028, 11280, 11281, 11282, 11283, 11284, 11285, 11286, 11287,
      11288, 11289, 11290, 11291, 11292, 11293, 11547, 11548, 11549, 11550,
      11551, 11552, 11553, 11554, 11555, 11596, 11713, 11786, 11787, 11828,
      12544, 13760, 13981, 13982, 14008, 14012, 14208, 14252, 14270, 14480,
      14630, 14703, 14733, 14759, 14762, 15121, 15506, 15958, 15959, 15960,
      15961, 15962, 16106, 16107, 16108, 16140, 16151, 16313, 16399, 16535,
      16547, 16670, 16818, 16837, 16942, 17118, 17147, 17397, 17748, 17749,
      17751, 17752, 17753, 17758, 18017, 18058, 18175, 18188, 18228, 18502,
      18505, 18508, 18510, 18520, 18531, 18564, 19510, 19544, 19661, 19662,
      19680, 19683, 20514, 20549, 20553],
    
102: [1075, 1076, 1077, 1095, 1116, 1124, 1420, 1725, 1998, 2369, 2395, 2438,
      2581, 2621, 2685, 2686, 2687, 2692, 2693, 2694, 2737, 2749, 2828, 2829,
      2830, 2831, 2833, 2835, 2836, 2837, 2838, 2839, 2843, 2851, 2950, 2963,
      3228, 3234, 3274, 3278, 3279, 3285, 3304, 3342, 3348, 3353, 3414, 3560,
      3593, 3615, 3637, 3677, 3717, 3719, 3736, 3747, 3907, 3924, 4094, 4095,
      4201, 4350, 4429, 4467, 4468, 4482, 4541, 5067, 5138, 5180, 5199, 5212,
      5254, 5265, 5397, 5408, 5483, 5500, 5572, 5688, 5774, 5785, 5796, 5807,
      6170, 6228, 6467, 6494, 6764, 6874, 6885, 6907, 6973, 7039, 7215, 7259,
      7516, 7517, 7518, 7681, 7831, 7858, 7859, 7860, 7878, 7879, 8571, 8581,
      8795, 8890, 9030, 9171, 9184, 9655, 9657, 9658, 10370, 10425, 10626,
      10734, 11022, 11120, 11362, 11436, 11621, 12141, 12157, 12169, 12185,
      12186, 12190, 12204, 12213, 12222, 12264, 12323, 12324, 12325, 12357,
      12369, 12412, 12426, 12436, 12783, 12784, 12827, 13019, 13738, 13953,
      13973, 14179, 14728, 15312, 15383, 15402, 15536, 15677, 16432, 16444,
      16735, 17270, 17278, 17281, 17282, 17296, 17337, 17442, 17466, 17632,
      17683, 17761, 17871, 18555, 18563, 18568, 18618, 18675, 18691, 18692,
      19002, 19027, 19294, 19314, 19413, 19566, 19832, 19879, 19949, 20137,
      20190, 20223, 20265, 20396, 20461, 20728],
    
117: [1578, 1703, 2027, 2052, 2336, 2716, 2760, 2761, 2774, 2775, 2776, 2785,
      2799, 2805, 2820, 2853, 2857, 2916, 2917, 2920, 2921, 2926, 2927, 2960,
      2961, 3425, 3426, 3761, 3764, 3765, 3768, 3772, 3774, 3777, 3781, 3782,
      3784, 3785, 3786, 3787, 3788, 3790, 3793, 3794, 3795, 3796, 3798, 3799,
      3800, 3801, 3803, 3804, 3805, 3806, 3807, 3808, 3809, 3810, 3814, 3815,
      3816, 3817, 3818, 3819, 3820, 3821, 3822, 3823, 3826, 3827, 3828, 3829,
      3830, 3834, 3836, 3837, 3838, 3839, 3840, 3841, 3842, 3843, 3847, 3848,
      3849, 3850, 3853, 3856, 3859, 3860, 3861, 3862, 3863, 3864, 3870, 4415,
      4425, 4746, 5048, 5106, 5238, 5550, 7956, 8444, 8875, 9331, 9549, 9937,
      10278, 10394, 10573, 10598, 10599, 10602, 10633, 10777, 11006, 11503,
      11556, 11557, 11558, 11559, 11560, 11561, 11580, 13832, 14229, 14609,
      15310, 15326, 15417, 15458, 15716, 15996, 15997, 15998, 16045, 16112,
      16114, 16117, 16126, 16881, 17050, 17335, 17355, 17481, 18177, 19019,
      19022, 19230, 19377, 19434, 19924, 20641, 20642, 20643, 20644, 20646,
      20647, 20648, 20649, 20650, 20652, 20653, 20654, 20655, 20656, 20657,
      20658, 20659, 20660, 20661, 20663, 20664, 20665, 20666, 20667, 20668,
      20669, 20670, 20672, 20674],
        
138: [1995, 1996, 2018, 2031, 2053, 2086, 2163, 2251, 2284, 2295, 2427, 2471,
      2482, 2570, 2625, 2680, 2702, 2724, 2735, 2746, 2757, 2801, 2812, 2845,
      2856, 2867, 2878, 2900, 2911, 2922, 2933, 2944, 2977, 2988, 2999, 3010,
      3021, 3032, 3054, 3065, 3076, 3087, 3120, 3131, 3142, 3153, 3164, 3175,
      3186, 3208, 3219, 3230, 3252, 3263, 3296, 3307, 3318, 3329, 3351, 3362,
      3373, 3384, 3395, 3406, 3417, 3428, 3439, 3472, 3516, 3538, 3648, 3670,
      3681, 3703, 3835, 3945, 4000, 4011, 4022, 4033, 4044, 4055, 4066, 4099,
      4110, 4165, 4176, 4187, 4198, 4264, 4308, 4374, 4418, 4539, 4616, 4638,
      4660, 4726, 4748, 4814, 4825, 4858, 4880, 4902, 4924, 4957, 5078, 5089,
      5100, 5111, 5122, 5133, 5134, 5144, 5155, 5209, 5211, 5331, 5364, 5419,
      5430, 5458, 5477, 5488, 5497, 5506, 5516, 5543, 5697, 5917, 5928, 6082,
      6104, 6159, 6324, 6423, 6478, 6588, 6599, 6632, 6709, 6720, 6775, 6808,
      6841, 6852, 6896, 6918, 6929, 6940, 6951, 6962, 6984, 6995, 7006, 7017,
      7050, 7061, 7204, 9428, 9429, 12825, 13005, 13006, 13838, 16602, 17321,
      17766, 18192, 18551, 18552, 18554, 18556, 18557, 18559, 18584, 18588,
      18589, 18590, 18591, 18598, 18599, 18600, 18607, 18614, 18637, 18673,
      18676, 18677, 18678, 18679, 18680, 18681, 18682, 18683, 18684, 18686,
      18687, 18688, 18711, 19346],
    
141: [2073, 2074, 2125, 2126, 2149, 2689, 2690, 2708, 2728, 2729, 2730, 2732,
      2738, 2739, 2752, 2753, 2758, 2794, 2795, 2796, 2798, 2800, 2814, 2819,
      2822, 2826, 2827, 2840, 2841, 2842, 2844, 2846, 2862, 2864, 2876, 2877,
      2879, 2884, 2886, 2887, 2888, 2890, 2891, 2892, 2893, 2894, 2895, 2910,
      3762, 3767, 3770, 3771, 3776, 3778, 3779, 3783, 3789, 3792, 3797, 3811,
      3812, 3825, 3831, 3832, 3833, 3851, 3865, 3867, 3869, 5270, 5274, 5275,
      5278, 5281, 5283, 5284, 5285, 5286, 5288, 5291, 5292, 5305, 5324, 5325,
      5326, 5327, 5328, 5333, 5339, 5340, 5344, 5346, 5356, 6294, 6297, 7662,
      7669, 8250, 8303, 8358, 8359, 8692, 8695, 8894, 9174, 9240, 9299, 9363,
      9559, 9592, 9771, 9793, 9858, 9905, 9982, 9983, 9989, 9990, 9991, 9992,
      9993, 9994, 10140, 10141, 10142, 10377, 10452, 10469, 10470, 10589,
      10880, 10881, 10883, 10928, 11465, 11471, 11472, 11473, 11488, 11489,
      11490, 11491, 11492, 11493, 11494, 11495, 11496, 12572, 12582, 12609,
      12654, 13767, 13774, 13826, 14112, 14136, 14300, 14505, 14607, 14760,
      14761, 14923, 15132, 15258, 15297, 15369, 15440, 15693, 15718, 15747,
      15993, 16118, 16199, 16378, 16529, 16606, 16671, 16804, 17087, 17096,
      17102, 17105, 17110, 18211, 18251, 18388, 18469, 19011, 19266, 19268,
      19367, 19665, 19666, 19943, 19945, 20711]}


# # 2021 smallest

# In[26]:


low2021_docs = {

38: [67, 767, 836, 870, 872, 905, 912, 959, 1734, 1841, 1865, 2976, 4299,
      4500, 4780, 5121, 5384, 5423, 5561, 5620, 5859, 5973, 6119, 6165, 6441,
      7655, 8049, 8653, 8841, 8909, 8966, 8971, 9313, 10179, 10268, 10325,
      10570, 10752, 11590, 11628, 11793, 12172, 12508, 12998, 13353, 13375,
      13841, 13906, 14141, 14210, 14723, 14926, 15000, 15301, 15319, 15591,
      15647, 15790, 15874, 15904, 16081, 16104, 16673, 16702, 16709, 16816,
      16929, 17917, 18625, 18907, 18933, 18962, 18973, 18985, 19524, 19537,
      19583, 19593, 19608, 19612, 19626, 19757, 19770, 19865, 20633],
    
42: [136, 739, 1460, 1463, 2997, 3063, 3926, 3930, 4279, 4499, 4812, 4875,
      4892, 5413, 5428, 5606, 5831, 5864, 5908, 5919, 5997, 6097, 7355, 8039,
      8194, 8606, 8714, 8750, 8972, 8978, 9131, 9209, 9285, 9314, 9774, 9794,
      10150, 10202, 10205, 10687, 10878, 11194, 11815, 12211, 13794, 14035,
      14258, 14706, 14784, 14990, 15064, 15104, 15154, 15570, 15948, 16071,
      16121, 16283, 16458, 16581, 16675, 16738, 16755, 16758, 16919, 16931,
      17140, 17245, 18163, 18306, 18398, 18811, 18859, 18920, 19240, 19540,
      19946, 20433, 20499, 20505, 20564],
    
61: [295, 1514, 2233, 2376, 2378, 2379, 2380, 2381, 2417, 2462, 2527, 2530,
      2587, 2597, 3399, 3401, 3427, 3530, 4062, 4063, 4260, 5162, 5206, 5588,
      6364, 6398, 7785, 8456, 10249, 10523, 10627, 10629, 10632, 11424, 11565,
      11893, 11972, 12160, 12201, 12212, 12307, 12326, 12800, 13813, 15360,
      15367, 15445, 15446, 15501, 15511, 15521, 15568, 16511, 16515, 16681,
      16771, 17334, 18005, 18189, 18212, 19269, 19826, 20756],
    
80: [427, 604, 1087, 1267, 1613, 1698, 1887, 1898, 1930, 1942, 1944, 1951,
      1963, 1969, 1973, 1974, 1976, 1979, 1980, 2082, 2301, 2918, 3654, 3661,
      3718, 3732, 3733, 3738, 3745, 3953, 4235, 4236, 5720, 6254, 6458, 8369,
      9518, 10131, 10563, 12408, 12797, 13310, 13751, 13991, 16429, 16467,
      16468, 17305, 17674, 18051, 18056, 18070, 18072, 18088, 18090, 19391,
      19392, 19395, 19403, 19405, 19420, 19421, 19423, 19425, 19426, 19427,
      19428, 19432, 19440, 19441, 19445, 20122, 20310, 20593, 20741],
        
106: [1143, 1258, 1368, 1380, 1435, 1528, 1529, 1585, 1730, 2047, 2407, 2453,
      2457, 2565, 3084, 3209, 3405, 3673, 3687, 3689, 3906, 4243, 4244, 4359,
      4809, 5214, 5322, 6211, 6404, 7775, 8275, 9014, 9161, 9387, 9629, 9630,
      9631, 9632, 10611, 10908, 10963, 10964, 11020, 11097, 11112, 11504,
      12135, 12203, 12230, 12249, 12322, 12657, 12814, 12836, 12858, 12869,
      12971, 14013, 14133, 14390, 14391, 14392, 14393, 14578, 14757, 15126,
      15237, 15240, 16315, 17476, 17636, 18229, 18717, 19262, 19747, 20339,
      20763],
    
143: [2697, 3587, 4492, 5638, 5652, 6300, 6301, 8584, 8771, 9063, 9065, 9187,
      9214, 9356, 9368, 9389, 9699, 9812, 9838, 10396, 10916, 11259, 11296,
      11597, 11701, 11706, 11725, 11737, 11820, 12457, 12628, 12681, 12994,
      13806, 13807, 13808, 13810, 13947, 14444, 14560, 14587, 14588, 14668,
      14727, 14916, 15190, 15680, 15804, 16297, 16302, 16306, 16364, 16436,
      16556, 16557, 16558, 16647, 16656, 17357, 18186, 18516, 18905, 19010,
      19222, 19225, 19295, 19460, 19462, 19555, 19827, 19890, 20095, 20744],
        
147: [6472, 6615, 6627, 6635, 6638, 6649, 6652, 6657, 6658, 6681, 6682, 6683,
      6716, 6757, 6801, 6826, 6829, 6843, 6846, 6847, 6848, 6849, 6861, 6868,
      6872, 6903, 6905, 6906, 6908, 6909, 6924, 6925, 6927, 6932, 6938, 6941,
      6950, 6958, 6967, 6971, 6972, 6999, 7020, 7025, 7085, 7088, 7126, 7173,
      7219, 7257, 7268, 7288, 7301, 7329, 7377, 7389, 7391, 7395, 7399, 7405,
      7406, 7420, 7427, 7428, 7453, 7459, 7497, 7519, 7529, 7540, 7554, 7564,
      7567, 10027, 11090, 11744, 20096, 20589]}


# # Smallest 2020

# In[27]:


low2020_docs = {

30: [135, 510, 511, 1105, 1210, 1211, 1559, 1561, 1741, 1787, 1853, 2009,
      2084, 2085, 2087, 2115, 2122, 2388, 2556, 3126, 3239, 3240, 3244, 3252,
      3335, 3338, 3770, 3773, 3953, 4054, 4494, 4720, 5246, 5317, 5318, 5519,
      5606, 5607, 5742, 5761, 5771, 5777, 5787, 5921, 5932, 6593, 6595, 6693,
      6775, 6786, 7032, 7286, 7406, 7415, 7507, 7884, 8622, 8746, 8756, 8853,
      8919, 9122, 9216, 9447, 9634, 9700, 9766, 11251, 11297, 11298, 11350,
      13162, 13533],
        
38: [257, 1085, 1101, 1102, 1199, 1249, 1776, 2040, 2899, 3172, 3189, 3223,
      3975, 3976, 3978, 4115, 4492, 4493, 4989, 4990, 5032, 5207, 5353, 6530,
      6531, 6533, 6534, 6535, 6536, 6537, 6538, 6539, 6540, 7353, 7373, 7375,
      7707, 7826, 7831, 7866, 8677, 8738, 8761, 10158, 10642, 11210, 11673,
      11840, 12137, 12144, 12378, 12379, 12381, 12382, 12383, 12467, 12468,
      12558, 12656, 12665, 12765, 12878, 13190, 13260, 13261, 13350, 13392,
      13447, 13525, 13577, 13630, 13654, 13655, 13656, 14633, 14990, 14995],
        
41: [386, 406, 479, 1424, 1532, 1595, 1607, 1773, 1916, 2061, 2124, 2125,
      2164, 2186, 2681, 2861, 2863, 2909, 3313, 3315, 3359, 3466, 4138, 4164,
      4564, 4647, 4648, 5283, 5325, 6440, 6783, 6902, 7499, 7720, 7915, 7916,
      7917, 7919, 7920, 7921, 7922, 7923, 7924, 7925, 7926, 7927, 7928, 7930,
      7931, 7932, 7933, 7934, 7935, 7936, 7937, 7938, 7939, 7941, 8293, 9291,
      9885, 9981, 10157, 10943, 11185, 11233, 11372, 11569, 12140, 12640,
      12737, 12739, 13454, 13805, 14217, 15015],

99: [1156, 1574, 1885, 2564, 3414, 3490, 3803, 3830, 3996, 4798, 5438, 5491,
      5551, 5642, 7043, 7666, 7679, 8203, 8998, 9003, 9008, 9038, 9111, 9457,
      9531, 9549, 10458, 10702, 11032, 11080, 11084, 11181, 11266, 11378,
      11393, 11552, 11553, 11619, 11703, 11825, 11976, 12111, 12256, 12403,
      12404, 12413, 12435, 12746, 13003, 13048, 13053, 13057, 13188, 13354,
      13500, 13541, 13665, 13874, 13920, 14150, 14289, 14475, 14498, 14591,
      14647, 14648, 14819],
        
119: [1358, 1580, 2044, 2570, 4104, 5667, 6812, 7465, 7673, 7709, 7790, 7983,
      8113, 8230, 8267, 8913, 8967, 9011, 9485, 9538, 9569, 9600, 9758, 9785,
      10065, 10133, 10251, 10254, 10320, 10337, 10383, 10417, 10468, 10656,
      10791, 10810, 10816, 11248, 11277, 11473, 11519, 11612, 11734, 11797,
      11941, 12116, 12174, 12354, 12529, 12566, 12759, 12874, 13180, 13191,
      13202, 13324, 13326, 13405, 13696, 13932, 13950, 13954, 14140, 14282,
      14368, 14371, 14461, 14653, 14723, 14759, 14858, 15031, 15065, 15078,
      15135]}


# # Smallst 2019

# In[28]:


low2019_docs = {
6: [9, 56, 177, 2049, 2070, 2084, 2686, 3589, 3602, 3627, 3984, 4283, 4407,
      5591, 5835, 6196, 6957, 7529, 7903, 7919, 7955, 8173, 8428, 8692, 8936,
      9326, 9327, 9361, 9443, 9680, 12004, 12008, 12051, 12071, 12111, 12122,
      12139, 12163, 12197, 12211, 12216, 12248, 12290, 12291, 12299, 12313,
      12325, 12343, 12351, 12358, 12379, 12445, 12909, 12956, 12957, 12983,
      13092, 13267, 13332, 13334, 13341, 13352, 13353, 13359, 13360, 14014,
      14016, 14053, 14063],
        
46: [176, 1940, 2324, 2325, 2326, 2327, 2329, 2330, 2331, 2332, 2333, 2334,
      2335, 2336, 2367, 2368, 2369, 2370, 2371, 2373, 2375, 2376, 2377, 2378,
      2379, 2380, 2381, 2382, 2384, 2385, 2386, 2388, 2389, 2390, 2391, 6396,
      6472, 7870, 7889, 7890, 7891, 7892, 7893, 8414, 8415, 8416, 8417, 8766,
      8767, 8768, 8769, 8770, 8771, 8773, 8774, 8776, 9526, 9527, 9528, 9529,
      10768, 12880, 12881, 12882, 12883, 12884, 13210, 13211, 13212, 13213,
      13214, 13215, 13216, 13217, 13218, 13219, 13220, 13221, 13222, 13223,
      13224, 13225, 13226, 13227, 13228, 13229, 13230, 13231, 13232, 13233,
      13234, 13235, 13236, 13237, 13238, 13239, 13240, 13241, 13242, 13243,
      13244, 13245, 13246, 13247, 13361, 13362, 13363, 13364, 13365, 13366,
      13367, 13368, 13369, 13370, 13371, 13372, 13859, 13871, 13872, 14503],
        
84: [335, 336, 337, 338, 341, 342, 344, 345, 346, 347, 348, 349, 350, 351,
      353, 354, 355, 356, 357, 358, 359, 360, 361, 363, 364, 365, 366, 367,
      368, 370, 371, 372, 373, 374, 375, 376, 377, 378, 379, 380, 382, 383,
      394, 395, 398, 421, 423, 433, 444, 445, 446, 449, 470, 472, 474, 616,
      624, 625, 626, 646, 657, 688, 689, 692, 693, 695, 698, 701, 704, 705,
      707, 746, 758, 779, 780, 783, 2361, 2372, 2509, 2528, 2577, 2614, 2877,
      2988, 3343, 3354, 3365, 3407, 3427, 3444, 4036, 4092, 4272, 4327, 4443,
      4450, 4612, 4635, 4792, 4853, 5055, 5074, 5096, 5103, 6543, 7445, 7710,
      8438, 9096, 9226],
        
91: [388, 486, 490, 537, 549, 654, 753, 768, 796, 1284, 1726, 2695, 3031,
      3037, 3039, 3042, 3059, 3062, 3686, 4833, 4850, 4857, 4870, 4891, 4898,
      4906, 4911, 4912, 5598, 5668, 5737, 5796, 5809, 5840, 5918, 5973, 6006,
      6050, 6061, 6094, 6145, 6222, 6492, 7387, 8944, 9832, 9834, 9836, 9865,
      9866, 9870, 9872, 9877, 9898, 9903, 9911, 9921, 9928, 9930, 9932, 10795,
      10809, 10813, 10820, 11557, 12465, 12478, 12481, 12482, 12488, 12512,
      12531, 12541, 12544, 12550, 12554, 12567, 12576, 12581, 12597, 12612,
      12616, 12621, 12628, 12638, 12647, 12650, 12665, 12685, 12686, 12695,
      12696, 12698, 12724, 13209, 13386, 14277, 14278],
        
101: [801, 839, 974, 975, 1281, 1345, 1887, 1907, 2294, 2612, 3266, 3279,
      3595, 3786, 3788, 3789, 5325, 5357, 5455, 5456, 5457, 5461, 5770, 5900,
      6422, 6687, 6763, 6891, 7007, 7098, 7622, 7675, 7991, 7992, 7993, 7994,
      7995, 8003, 8645, 8780, 8814, 9114, 9115, 9117, 9118, 9120, 9121, 9122,
      9123, 9124, 9125, 9201, 9388, 9635, 10117, 10724, 11706, 12200, 12886,
      13145, 13694, 13850, 13851, 13856, 14153, 14472, 14543, 15867, 16414,
      16560, 16665],
        
133: [3317, 10878, 10890, 10892, 10894, 10895, 10942, 10952, 10985, 10996,
      11006, 11021, 11022, 11023, 11024, 11035, 11038, 11040, 11041, 11048,
      11062, 11063, 11064, 11065, 11066, 11080, 11086, 11090, 11113, 11131,
      11132, 11133, 11162, 11183, 11184, 11185, 11186, 11191, 11193, 11194,
      11196, 11200, 11201, 11208, 11219, 11220, 11221, 11234, 11243, 11244,
      11254, 11281, 11292, 11293, 11295, 11298, 11306, 11307, 11328, 11330,
      11340, 11344, 11353, 11357, 11360, 11371, 11425, 11450, 11465, 11483,
      11486, 11495, 11499, 11506, 11711, 13159]}


# In[29]:


from bs4 import BeautifulSoup
from lxml import etree
import xml.etree.ElementTree as ET
import nltk
from nltk.corpus import stopwords
from nltk.tokenize import word_tokenize
import sklearn
import gensim
import gensim.similarities 
from gensim.models.word2vec import Word2Vec
from scipy import spatial
import treelib
from treelib import Node, Tree
# Network x
import networkx as nx
import matplotlib.pyplot as plt
# Path Py
#import igraph
import numpy as np
import pathpy as pp
from numpy.linalg import norm
from IPython.display import *
from IPython.display import HTML
import networkx as nx
from networkx.algorithms import community
import networkx.algorithms.community as nxcom
from networkx.algorithms import community
from networkx.algorithms.community.centrality import girvan_newman
#communities_generator = community.centrality.girvan_newman(G_firstfive_2021)
import matplotlib.pyplot as plt
import networkx as nx
from networkx.algorithms.community.centrality import girvan_newman
get_ipython().run_line_magic('matplotlib', 'inline')


# In[30]:


tree_2021 = ET.parse('allitems-cvrf-year-2021.xml')
root_2021 = tree_2021.getroot()
tree_2020 = ET.parse('allitems-cvrf-year-2020.xml')
root_2020 = tree_2020.getroot()
tree_2019 = ET.parse('allitems-cvrf-year-2019.xml')
root_2019 = tree_2019.getroot()


# In[31]:


notes_every_set = list();
all_notes_2021 = list();
all_notes_2020 = list();
all_notes_2019 = list()
cve_2021 = list()
cve_2020 = list()
cve_2019 = list()

# Exctracting publication dates for time staps 
# if not date/text is published remove the vulnerability 
pub_2021 = list()
pub_2020 = list()
pub_2019 = list()

for i in range(5,30471):
    try:
        all_notes_2021.append(root_2021[i][1][0].text)
        notes_every_set.append(root_2021[i][1][0].text)
        pub_2021.append(root_2021[i][1][1].text)
        cve_2021.append(root_2021[i][2].text)
    except:
        continue
    
for i in range(5,31177):
    try:
        pub_2020.append(root_2020[i][1][1].text)
        all_notes_2020.append((root_2020[i][1][0].text))
        notes_every_set.append(root_2020[i][1][0].text)
        cve_2020.append(root_2020[i][2].text)
    except:
        continue
        
for i in range(5,21485):
    try:
        pub_2019.append(root_2019[i][1][1].text)
        all_notes_2019.append(root_2019[i][1][0].text)
        cve_2019.append(root_2019[i][2].text)
        notes_every_set.append(root_2019[i][1][0].text)
    except:
        continue


# In[32]:


untokenized_notes = list();
for sentence in all_notes_2021: 
    untokenized_notes.append(sentence)
for sentence in all_notes_2020: 
    untokenized_notes.append(sentence)
for sentence in all_notes_2019: 
    untokenized_notes.append(sentence)

sentences_2021 = all_notes_2021
sentences_2020 = all_notes_2020
sentences_2019 = all_notes_2019

for i in range(0, len(all_notes_2021)):
    all_notes_2021[i] = word_tokenize(all_notes_2021[i])

for i in range(0, len(all_notes_2020)):
    all_notes_2020[i] = word_tokenize(all_notes_2020[i])
    
for i in range(0, len(all_notes_2019)):
    all_notes_2019[i] = word_tokenize(all_notes_2019[i])

sentences_2021 = all_notes_2021
sentences_2020 = all_notes_2020
sentences_2019 = all_notes_2019


# In[33]:


stop_words = list(stopwords.words("english"))
extra = ['(',')','.',',',';',':',"'","''"]
for i in extra:
    stop_words.append(i)

for sentence in sentences_2021:
    for word in sentence:
        if word.casefold() in stop_words:
            sentence.remove(word)

for sentence in sentences_2020:
    for word in sentence:
        if word.casefold() in stop_words:
            sentence.remove(word)

for sentence in sentences_2019:
    for word in sentence:
        if word.casefold() in stop_words:
            sentence.remove(word)


# In[34]:


entries_2021 = {0: {'CVE': "", 'Date': "",'Description': [],'Month':""}}

for i in range(0,len(pub_2021)):
    entries_2021[i] = {}
    entries_2021[i]['CVE'] = cve_2021[i]
    entries_2021[i]['Date'] = pub_2021[i]
    entries_2021[i]['Description'] = sentences_2021[i]
    entries_2021[i]['Month'] = "n/a"
    
entries_2020 = {0: {'CVE': "", 'Date': "", 'Description': [],'Month':""}}
    
for i in range(0,len(pub_2020)):
    entries_2020[i] = {}
    entries_2020[i]['CVE'] = cve_2020[i]
    entries_2020[i]['Date'] = pub_2020[i]
    entries_2020[i]['Description'] = sentences_2020[i]
    entries_2020[i]['Month'] = "n/a"

entries_2019 = {0: {'CVE': "", 'Date': "", 'Description': [],'Month':""}}
    
for i in range(0,len(pub_2019)):
    entries_2019[i] = {}
    entries_2019[i]['CVE'] = cve_2019[i]
    entries_2019[i]['Date'] = pub_2019[i]
    entries_2019[i]['Description'] = sentences_2019[i]
    entries_2019[i]['Month'] = "n/a"
    


# In[35]:


for cluster,nodes in top2021_docs.items():
    print("Cluster: ",cluster)
    for node in nodes:
        print(entries_2021[node]['Description'])
        print("\n")
    print("\n")
    print("-----------------------------------------------------------------------------------------")
    print("\n")


# In[36]:


for cluster,nodes in top2020_docs.items():
    print("Cluster: ",cluster)
    for node in nodes:
        print(entries_2020[node]['Description'])
        print("\n")
    print("\n")
    print("-----------------------------------------------------------------------------------------")
    print("\n")


# In[37]:


for cluster,nodes in top2019_docs.items():
    print("Cluster: ",cluster)
    for node in nodes:
        print(entries_2019[node]['Description'])
        print("\n")
    print("\n")
    print("-----------------------------------------------------------------------------------------")
    print("\n")


# In[38]:


for cluster,nodes in low2021_docs.items():
    print("Cluster: ",cluster)
    for node in nodes:
        print(entries_2021[node]['Description'])
        print("\n")
    print("\n")
    print("-----------------------------------------------------------------------------------------")
    print("\n")


# In[39]:


for cluster,nodes in low2020_docs.items():
    print("Cluster: ",cluster)
    for node in nodes:
        print(entries_2020[node]['Description'])
        print("\n")
    print("\n")
    print("-----------------------------------------------------------------------------------------")
    print("\n")


# In[40]:


for cluster,nodes in low2019_docs.items():
    print("Cluster: ",cluster)
    for node in nodes:
        print(entries_2019[node]['Description'])
        print("\n")
    print("\n")
    print("-----------------------------------------------------------------------------------------")
    print("\n")


# In[77]:


# set width of bar
barWidth = 0.25
fig = plt.subplots(figsize =(12, 8))
 
# set height of bar
c2019 = [5, 2, 4, 3,7,2,5,1,4,3,1,6,3,4,1,5,0,1,5,2,4,1,2,3,1]
c2020 = [6, 11, 7, 10,11,5,7,3,8,4,2,9,4,4,9,5,2,5,1,7,5,1,1,0,1]
c2021 = [1,5,9,6,8,8,5,0,2,2,0,6,4,7,4,5,0,3,6,3,1,0,0,1,0]
 
# Set position of bar on X axis
br1 = np.arange(len(c2019))
br2 = [x + barWidth for x in br1]
br3 = [x + barWidth for x in br2]
 
# Make the plot
plt.bar(br1, c2019, color ='b', width = barWidth,
        edgecolor ='grey', label ='2019')
plt.bar(br2, c2020, color ='orange', width = barWidth,
        edgecolor ='grey', label ='2020')
plt.bar(br3, c2021, color ='g', width = barWidth,
        edgecolor ='grey', label ='2021')
 
# Adding Xticks
plt.xlabel('Vulnerability Type', fontweight ='bold', fontsize = 15)
plt.ylabel('Number of Cluster Occurences', fontweight ='bold', fontsize = 15)
plt.xticks((range(len(c2019))),
        ['Restriction Bypass', 'Remote Code Execution', 'Sensitive Information Disclosure', 'Elevation Priveleges',
         'Cross Sight Scripting','Improper Authentication','Command Injection','Spoofing','Integer Overflow',
         'Directory Traversal','"Use-After-Free"',"Server-Side Request Forgery","Null Pointer Dereference ",
        'Broken Access Control','SQL Injection','Buffer Overflow','Logic Flaw','XML External Entities',
        'Improper Input Validation','Out of Bounds Read','Memory Corruption','Underflow','Improper Initialization',
        'Improper Sanitization','Improper Neutralization'],rotation = 80)
plt.title("Distribution of Vulnerabilities in Top 10 Clusters from 2019-2021")
plt.legend()
plt.show()


# In[ ]:




